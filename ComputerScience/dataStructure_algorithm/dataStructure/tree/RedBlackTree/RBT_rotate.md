###### 红黑树的旋转

> 为什么要旋转红黑树呢？   

因为红黑树在 添加 或者 删除 节点的时候， 可能会改变其状态，使得其不满足红黑的5项基本属性；  
红黑树的旋转，包括左旋转 和 右旋转；  

> 什么情况下需要旋转，什么情况下不需要旋转？  

[如果新插入的 当前节点 的 父节点，是 黑色的，就不需要做任何操作；](../image_files/RBT_005.png)  
如果新插入的 当前节点 的 父节点，是 红色的，就需要重新着色、旋转；  

> [标准红黑树](../image_files/RBT_001.png)

这个时候，满足红黑树的5项基本属性；



> [状态图](../image_files/RBT_002.png)

新插入的 当前节点【n  20】 的 父节点是红色的，需要重新着色、旋转；  

- 状态说明：  

当前节点的 父节点 是红色的；  
当前节点的 叔叔节点 是红色的；  

- 处理办法：  

1. 将 当前节点的 父亲节点 设为 黑色；  
2. 将 当前节点的 叔叔节点 设为 黑色；  
3. 将 当前节点的 祖父节点 设为 红色；  
4. 将 当前节点的 祖父节点 设为 新节点，继续判断；  

- 具体操作 1

[按照上述步骤，先对所涉及的节点进行着色；](../image_files/RBT_003.png)   
[作为 新节点 的 节点 是 根节点，直接将 这个新节点 设为 黑色， 结束；](../image_files/RBT_004.png)
 

> [状态图](../image_files/RBT_006.png)

新插入的 当前节点【n  55】 的 父节点是红色的，需要重新着色、旋转；  

- 状态说明：  

当前节点的 父节点 是红色的；  
当前节点的 叔叔节点 是红色的；  

- 处理办法：  

1. 将 当前节点的 父亲节点 设为 黑色；  
2. 将 当前节点的 叔叔节点 设为 黑色；  
3. 将 当前节点的 祖父节点 设为 红色；  
4. 将 当前节点的 祖父节点 设为 新节点，继续判断；  

- 具体操作 1

[按照上述步骤，先对所涉及的节点进行着色；](../image_files/RBT_007.png)   
作为 新节点 的 节点 不是 根节点，现在对新节点【n  70】进行操作；  
这时 新节点 的 父节点 是 黑色，不做任何操作；  


> [状态图](../image_files/RBT_008.png)

新插入的 当前节点【n  52】 的 父节点是红色的，需要重新着色、旋转；  

- 状态说明：  

当前节点的 父节点 是红色的；  
当前节点的 叔叔节点 是红色的；  

- 处理办法：  

1. 将 当前节点的 父亲节点 设为 黑色；  
2. 将 当前节点的 叔叔节点 设为 黑色；  
3. 将 当前节点的 祖父节点 设为 红色；  
4. 将 当前节点的 祖父节点 设为 新节点，继续判断；  

- 具体操作 1

[按照上述步骤，先对所涉及的节点进行着色；](../image_files/RBT_009.png)   
作为 新节点 的 节点 不是 根节点，现在对新节点【n  60】进行操作；  
这时 新节点 的 父节点 是 红色的，继续判断； 


> [状态图](../image_files/RBT_009.png)

新插入的 当前节点 【n  60】的 父节点是红色的，需要重新着色、旋转；  

- 状态说明：  

当前节点的 父节点 是红色的；  
当前节点的 叔叔节点 是黑色的；  
当前节点是 父节点的 左孩子；  

- 处理办法：  

[将 父节点 设为 黑色；  将 祖父节点 设为 红色；](../image_files/RBT_010.png)    
以 祖父节点 为旋转点 进行 右旋转；  

 
 








  



